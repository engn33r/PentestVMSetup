#!/bin/bash

ip=192.168.24.1

date
echo "Performing MS-SQL enumeration for IP " $ip

nmap --script=broadcast-ms-sql-discover,ms-sql-dump-hashes,ms-sql-empty-password,ms-sql-info,ms-sql-ntlm-info,ms-sql-query,ms-sql-tables,ms-sql-xp-cmdshell -p 445,1433,1434 $ip

nmap -sU --script=ms-sql-dac -p 1433,1434 $ip

echo "Perform brute force attempt manually, if requested"
echo " "
echo " "

# NOTE: use script "ms-sql-brute" for brute force. It needs some args

# NOTE: use script "ms-sql-config" or "ms-sql-hasdbaccess" or "ms-sql-tables" or "ms-sql-query" if login combo is known and password hashes are needed for cracking 

# if a login combo is known, use: nmap --script=<scriptname> --script-args='username=admin,password=admin'
